{"version":3,"file":"VideoSource.js","sourceRoot":"","sources":["../../src/media-sources/VideoSource.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,qBAAqB,EAAE,MAAM,iCAAiC,CAAC;AAExE,OAAO,EAAE,eAAe,EAAE,iBAAiB,EAAE,MAAM,mBAAmB,CAAC;AAEvE,MAAM,cAAc,mCACb,iBAAiB,KACpB,YAAY,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC,GACnC,CAAC;AA0BF,MAAM,UAAU,iBAAiB,CAAC,KAAuB,EAAE,UAAuC,EAAE;IAChG,MAAM,EAAE,YAAY,EAAE,mCAAQ,cAAc,GAAK,qBAAqB,CAAC,OAAO,CAAC,CAAE,CAAC;IAClF,MAAM,kBAAkB,GAAG,YAAY,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;IAE9F,OAAO,IAAI,eAAe,CACtB;QACI,KAAK,EAAE,KAAK;QACZ,kBAAkB;KACrB,EACD,EAAE,EACF,OAAO,CACV,CAAC;AACN,CAAC","sourcesContent":["import { copyDefinedProperties } from \"../common/copyDefinedProperties\";\nimport type { CameraKitDeviceOptions } from \"./CameraKitSource\";\nimport { CameraKitSource, defaultDeviceInfo } from \"./CameraKitSource\";\n\nconst defaultOptions: VideoSourceOptions = {\n    ...defaultDeviceInfo,\n    trackingData: new ArrayBuffer(0),\n};\n\n/**\n * Video source options.\n *\n * @category Rendering\n */\nexport interface VideoSourceOptions extends CameraKitDeviceOptions {\n    /**\n     * Optional pre-computed tracking data to enhance rendering performance.\n     * While not commonly provided, this can be used in specific scenarios\n     * where such data is available to optimize video processing.\n     */\n    trackingData: ArrayBuffer;\n}\n\n/**\n * Create a {@link CameraKitSource} from an\n * [HTMLVideoElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement).\n *\n * @param video CameraKit performs best when the source video is 720p â€“ arbitrary resolutions are supported, but very\n * high resolutions may not perform well.\n * @param options Options.\n *\n * @category Rendering\n */\nexport function createVideoSource(video: HTMLVideoElement, options: Partial<VideoSourceOptions> = {}): CameraKitSource {\n    const { trackingData } = { ...defaultOptions, ...copyDefinedProperties(options) };\n    const replayTrackingData = trackingData.byteLength > 0 ? { buffer: trackingData } : undefined;\n\n    return new CameraKitSource(\n        {\n            media: video,\n            replayTrackingData,\n        },\n        {},\n        options\n    );\n}\n"]}