<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>CameraKit Web SDK - v1.4.0</title><meta name="description" content="Documentation for CameraKit Web SDK"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">CameraKit Web SDK - v1.4.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>CameraKit Web SDK - v1.4.0</h1></div><div class="tsd-panel tsd-typography"><a id="snap-camera-kit-web-sdk" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Snap Camera Kit Web SDK<a href="#snap-camera-kit-web-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The Camera Kit Web SDK allows web developers to build Snap's core AR Lens technology into their applications.</p>
<a id="minimum-browser-requirements" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Minimum browser requirements<a href="#minimum-browser-requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Chrome 73+</strong></li>
<li><strong>Safari 15+</strong>
<ul>
<li>MacOS 12+, iOS 15+, iPadOS 15+</li>
<li>SIMD: Unsupported</li>
<li>Web Worker Mode*: Unsupported</li>
</ul>
</li>
<li><strong>Edge 79+</strong>
<ul>
<li>Edge is still currently under evaluation. However, since New Edge is Chromium based, the expectations are similar to that of Chrome.</li>
</ul>
</li>
<li><strong>Firefox</strong> - Under Evaluation
<ul>
<li>Web Worker Mode*: Firefox 105+</li>
</ul>
</li>
</ul>
<p>*Web Worker Mode requires <code>OffscreenCanvas</code> support.</p>
<a id="prerequisites" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Prerequisites<a href="#prerequisites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="snap-developer-set-up" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Snap Developer set up<a href="#snap-developer-set-up" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You'll need a Snap Developer account, and you'll need to apply for access to Camera Kit Web SDK. You can find more info on that <a href="https://docs.snap.com/camera-kit/getting-started/setting-up-accounts" target="_blank" class="external">here</a>.</p>
<p>You may also want to familiarize yourself with how to access and manage AR content (i.e. Lenses). You read about that <a href="https://docs.snap.com/camera-kit/ar-content/camera-kit-portal" target="_blank" class="external">here</a>.</p>
<a id="development-environment" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Development environment<a href="#development-environment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This guide assumes you've already set up an <a href="https://www.npmjs.com/" target="_blank" class="external">NPM</a> package, you're using <a href="https://www.typescriptlang.org/" target="_blank" class="external">TypeScript</a>, and have some way to build and host your project during development (e.g. using <a href="https://webpack.js.org/" target="_blank" class="external">Webpack</a>).</p>
<a id="using-the-sdk-in-a-javascript-project" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Using the SDK in a JavaScript project<a href="#using-the-sdk-in-a-javascript-project" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The SDK is authored in TypeScript, and distributes type definitions. All the examples here are presented in TypeScript. We encourage the use of TypeScript in projects that consume the SDK â€“ but it's also fully compatible with JavaScript projects as well.</p>
<a id="content-security-policy" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Content Security Policy<a href="#content-security-policy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If your project already has a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank" class="external">Content Security Policy</a> in place, you'll likely need to make some changes in order for Camera Kit Web SDK to work.</p>
<p>When it bootstraps, Camera Kit Web SDK downloads an executable WebAssembly file containing the Lens rendering engine. This file is served from an optimized CDN managed by Snap. You'll need to make sure your Content Security Policy allows this file to be executed.</p>
<ul>
<li><code>connect-src</code> must include <code>https://*.snapar.com</code>, otherwise Camera Kit Web will fail to initialize.</li>
<li><code>script-src</code> must include <code>https://cf-st.sc-cdn.net/ blob: 'wasm-unsafe-eval'</code>.</li>
</ul>
<p><em>Note: Some older browser versions may not support the <code>'wasm-unsafe-eval'</code> source value, and it may be necessary to use <code>'unsafe-eval'</code> to allow Camera Kit's downloaded WebAssembly to run.</em></p>
<a id="installing-the-sdk" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installing the SDK<a href="#installing-the-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">snap</span><span class="hl-1">/</span><span class="hl-0">camera</span><span class="hl-1">-</span><span class="hl-0">kit</span>
</code><button>Copy</button></pre>

<p>You can find the Camera Kit Web SDK package on <a href="http://npmjs.com" target="_blank" class="external">npmjs.com</a> <a href="https://www.npmjs.com/package/@snap/camera-kit" target="_blank" class="external">here</a>.</p>
<a id="importing-camera-kit" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Importing Camera Kit<a href="#importing-camera-kit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Currently, the SDK distributes <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" target="_blank" class="external">JavaScript modules</a>. We may support other module formats in the future (e.g. CommonJS), but for now you'll need to use <code>import</code> syntax to use the Camera Kit Web SDK.</p>
<a id="bootstrapping-the-sdk" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Bootstrapping the SDK<a href="#bootstrapping-the-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>With the SDK installed and imported, the first thing to do is bootstrap the SDK. When bootstrapping, the SDK will download the WebAssembly runtime which is used to render Lenses. This is also where you'll configure the SDK according to your needs.</p>
<p>To call <a href="functions/bootstrapCameraKit.html" class="tsd-kind-function"> bootstrapCameraKit</a>, you'll need to provide a <code>apiToken</code>. Once you've completed the <a href="https://docs.snap.com/camera-kit/guides/quick-start/integrate-sdk/setting-up-accounts" target="_blank" class="external">Getting set up in our portals</a> section of the Getting Started guide, you'll be able to find this in the <a href="https://devportal.snap.com/manage" target="_blank" class="external">Snap Kit Portal</a>.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">boostrapCameraKit</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@snap/camera-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-5">main</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">apiToken</span><span class="hl-1"> = </span><span class="hl-3">&quot;Your API Token value copied from the Camera Kit Portal&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">cameraKit</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-5">bootstrapCameraKit</span><span class="hl-1">({ </span><span class="hl-0">apiToken</span><span class="hl-1"> });</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<a id="creating-a-camerakitsession" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Creating a <code>CameraKitSession</code><a href="#creating-a-camerakitsession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In order to render Lenses, you must first create a <a href="classes/CameraKitSession.html" class="tsd-kind-class"> CameraKitSession</a>. Each session represents a rendering pipeline - it connects an input media source (e.g. a webcam) to Camera Kit's AR engine, applies a Lens, and renders the output to a <code>&lt;canvas&gt;</code> element.</p>
<p>There are two ways to create a session. If you already have a <code>&lt;canvas&gt;</code> element on your page that you'd like for the <a href="classes/CameraKitSession.html" class="tsd-kind-class"> CameraKitSession</a> to render into, you can pass it to Camera Kit when creating the session. Otherwise, the session will create a new <code>&lt;canvas&gt;</code> element which you can add to the DOM.</p>
<pre><code class="ts"><span class="hl-7">// Using an existing canvas</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">canvas</span><span class="hl-1"> = </span><span class="hl-0">document</span><span class="hl-1">.</span><span class="hl-5">getElementById</span><span class="hl-1">(</span><span class="hl-3">&quot;my-canvas&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">session</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">cameraKit</span><span class="hl-1">.</span><span class="hl-5">createSession</span><span class="hl-1">(</span><span class="hl-0">canvas</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Let Camera Kit create a new canvas, then append it to the DOM</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">canvasContainer</span><span class="hl-1"> = </span><span class="hl-0">document</span><span class="hl-1">.</span><span class="hl-5">getElementById</span><span class="hl-1">(</span><span class="hl-3">&quot;canvas-container&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">session</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">cameraKit</span><span class="hl-1">.</span><span class="hl-5">createSession</span><span class="hl-1">();</span><br/><span class="hl-0">canvasContainer</span><span class="hl-1">.</span><span class="hl-5">appendChild</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-0">output</span><span class="hl-1">.</span><span class="hl-0">live</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>There are actually two different output canvases:</p>
<ul>
<li><code>live</code>: This canvas renders content intended for the Lens user. Depending on the Lens being used, this canvas may include UI elements, prompts, or other content that is only meant to be seen by the user of the Lens.</li>
<li><code>capture</code>: This canvas renders content intended for presenting to other users.</li>
</ul>
<p>These two output canvases correspond to the two different <a href="https://docs.snap.com/lens-studio/references/guides/lens-features/scene-set-up/camera#render-target" target="_blank" class="external">RenderTargets</a> a Lens may use to render its content. Not all Lenses will render different content to <code>live</code> vs. <code>capture</code>, so it's important to understand how the Lenses you'll be using use these two different outputs.</p>
<blockquote>
<p>No rendering will happen yet, and the output canvas associated with this new <code>CameraKitSession</code> will be blank. Frames are not processed until you start <a href="#playback">playback</a> by calling the <code>CameraKitSession</code>'s <code>play()</code> method. This will be discussed below.</p>
</blockquote>
<a id="creating-a-camerakitsource" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Creating a <code>CameraKitSource</code><a href="#creating-a-camerakitsource" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In order for Camera Kit Web SDK to render anything, it must have a source of imagery to be processed by the AR engine. The Lens content will be rendered on top of this source media.</p>
<p>The most common source of input media is the user's webcam. Camera Kit Web SDK provides a helper method to create a <code>CameraKitSource</code> object from a <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream" target="_blank" class="external"><code>MediaStream</code></a>. You can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia" target="_blank" class="external"><code>getUserMedia</code></a> to obtain a <code>MediaStream</code> with video from the user's webcam.</p>
<blockquote>
<p>Note that calling <code>getUserMedia</code> will prompt the user to grant the webpage access to their camera.</p>
</blockquote>
<p>Once we have a <code>CameraKitSource</code>, we can tell the <code>CameraKitSession</code> to use this source for rendering.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">createMediaStreamSource</span><span class="hl-1">, </span><span class="hl-0">Transform2D</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@snap/camera-kit&quot;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">stream</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">navigator</span><span class="hl-1">.</span><span class="hl-0">mediaDevices</span><span class="hl-1">.</span><span class="hl-5">getUserMedia</span><span class="hl-1">({ </span><span class="hl-0">video:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">source</span><span class="hl-1"> = </span><span class="hl-5">createMediaStreamSource</span><span class="hl-1">(</span><span class="hl-0">stream</span><span class="hl-1">, { </span><span class="hl-0">transform:</span><span class="hl-1"> </span><span class="hl-0">Transform2D</span><span class="hl-1">.</span><span class="hl-0">MirrorX</span><span class="hl-1">, </span><span class="hl-0">cameraType:</span><span class="hl-1"> </span><span class="hl-3">&#39;user&#39;</span><span class="hl-1"> });</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">setSource</span><span class="hl-1">(</span><span class="hl-0">source</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>In this example, we also mirror the source stream (which feels more natural in most cases), and we indicate this source comes from a front-facing camera. To read more about these options, see <a href="#customizing-camerakitsource">below</a>.</p>
<p>Camera Kit Web SDK has helper methods to create a <code>CameraKitSource</code> from:</p>
<ul>
<li>A <code>MediaStream</code> object, which could come from the user's camera, a WebRTC connection, a <code>&lt;canvas&gt;</code> via the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/captureStream" target="_blank" class="external"><code>captureStream()</code> method</a>, or elsewhere.</li>
<li>A <code>&lt;video&gt;</code> element (i.e. <code>HTMLVideoElement</code>)</li>
<li>An <code>&lt;img&gt;</code>element (i.e. <code>HTMLImageElement</code>)</li>
</ul>
<a id="loading-applying-and-removing-lenses" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Loading, applying, and removing Lenses<a href="#loading-applying-and-removing-lenses" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In Camera Kit Web SDK -- just like in the Snapchat app itself -- each individual AR experience is called a Lens. Lenses are created using <a href="https://ar.snap.com/en-US/lens-studio" target="_blank" class="external">Lens Studio</a>. You can find more information about acquiring Lenses <a href="https://docs.snap.com/camera-kit/quick-start/build-manage-ar-content/ar-overview" target="_blank" class="external">here</a>.</p>
<p>You can find Lens and Lens Groups in the <a href="https://camera-kit.snapchat.com/" target="_blank" class="external">Camera Kit Portal</a>. This is where you can manage your Lenses and Lens Groups and where you can find Lens IDs and Lens Group IDs. You can read more about managing Lenses in the Camera Kit Portal <a href="https://docs.snap.com/camera-kit/quick-start/build-manage-ar-content/camera-kit-portal" target="_blank" class="external">here</a>.</p>
<p>Before applying a Lens to our session, we have to load metadata about that Lens. Lenses can be loaded either one at a time, or entire Lens Groups can be loaded at once. You'll need a Lens ID and its Lens Group ID to complete this step.</p>
<pre><code class="ts"><span class="hl-7">// Loading a single lens</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">lens</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">cameraKit</span><span class="hl-1">.</span><span class="hl-0">lensRepository</span><span class="hl-1">.</span><span class="hl-5">loadLens</span><span class="hl-1">(</span><span class="hl-3">&quot;&lt;Lens ID&gt;&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;&lt;Lens Group ID&gt;&quot;</span><span class="hl-1">);</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">applyLens</span><span class="hl-1">(</span><span class="hl-0">lens</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Loading one or more Lens Groups â€“ Lenses from all groups are returned as a single array of lenses.</span><br/><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-6">lenses</span><span class="hl-1"> } = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">cameraKit</span><span class="hl-1">.</span><span class="hl-0">lensRepository</span><span class="hl-1">.</span><span class="hl-5">loadLensGroups</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;&lt;Lens Group ID 1&gt;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;&lt;Lens Group ID 2&gt;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">]);</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">applyLens</span><span class="hl-1">(</span><span class="hl-0">lenses</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<a id="removing-the-lens" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Removing the Lens<a href="#removing-the-lens" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can also remove the currently-applied Lens:</p>
<pre><code class="ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">removeLens</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>After removing the Lens, when the session renders it will simply render the input media directly to the output canvas.</p>
<a id="playback" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Playback<a href="#playback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <a href="classes/CameraKitSession.html" class="tsd-kind-class"> CameraKitSession</a> will only process input video frames and render them to the output when you tell it to do so â€“ this way, you can control when Camera Kit is using a client's resources (e.g. CPU and GPU compute cycles). You can tell the session to <code>play</code> or <code>pause</code>.</p>
<pre><code class="ts"><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">play</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// ...sometime later</span><br/><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">pause</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="playing-and-pausing-the-different-rendertargets" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Playing and pausing the different RenderTargets<a href="#playing-and-pausing-the-different-rendertargets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default, <code>play()</code> will only begin rendering the <code>live</code> output canvas. You can specify which canvas to render by passing an argument:</p>
<pre><code class="ts"><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">play</span><span class="hl-1">(</span><span class="hl-3">&#39;live&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">play</span><span class="hl-1">(</span><span class="hl-3">&#39;capture&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Calling <code>pause()</code> with no arguments will pause both outputs. But just like with <code>play()</code>, you can pass an argument to select which canvas to pause.</p>
<pre><code class="ts"><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">pause</span><span class="hl-1">(</span><span class="hl-3">&#39;live&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">pause</span><span class="hl-1">(</span><span class="hl-3">&#39;capture&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<ul>
<li><em><code>live</code>: This canvas renders content intended for the Lens user. Depending on the Lens being used, this canvas may include UI elements, prompts, or other content that is only meant to be seen by the user of the Lens.</em></li>
<li><em><code>capture</code>: This canvas renders content intended for presenting to other users.</em></li>
</ul>
</blockquote>
<a id="error-handling" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Camera Kit Web SDK methods may throw errors, or return rejected Promises -- these are documented in the <a href="https://kit.snapchat.com/reference/CameraKit/web/1.4.0/index.html" target="_blank" class="external">API docs</a>. It is good practice to handle such cases, to provide a good experience to your users.</p>
<p>Errors may also occur during Lens rendering. For example, Lenses contain their own scripting, which could throw an error. A rendering error could also occur if a Lens attempts to use a feature that is not supported by Camera Kit Web SDK.</p>
<p>When a <code>LensExecutionError</code> such as these occurs, the Lens is <strong>automatically removed</strong> from the <code>CameraKitSession</code>. An error event is emitted so that your application can respond appropriately. You can listen to these error events like so:</p>
<pre><code class="ts"><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-0">events</span><span class="hl-1">.</span><span class="hl-5">addEventListener</span><span class="hl-1">(</span><span class="hl-3">&#39;error&#39;</span><span class="hl-1">, (</span><span class="hl-0">event</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">(</span><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">detail</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">detail</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1"> === </span><span class="hl-3">&#39;LensExecutionError&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">// The currently-applied Lens encountered a problem that is most likely unrecoverable and the Lens has been removed.</span><br/><span class="hl-1">    </span><span class="hl-7">// Your application may want to prevent this Lens from being applied again.</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="putting-it-all-together" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Putting it all together<a href="#putting-it-all-together" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Using the examples above, here's a complete example of the minimal Camera Kit Web SDK integration:</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">boostrapCameraKit</span><span class="hl-1">, </span><span class="hl-0">createMediaStreamSource</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@snap/camera-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">(</span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-5">main</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">apiToken</span><span class="hl-1"> = </span><span class="hl-3">&quot;Your API Token value copied from the SnapKit developer portal&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">cameraKit</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-5">bootstrapCameraKit</span><span class="hl-1">({ </span><span class="hl-0">apiToken</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">canvas</span><span class="hl-1"> = </span><span class="hl-0">document</span><span class="hl-1">.</span><span class="hl-5">getElementById</span><span class="hl-1">(</span><span class="hl-3">&quot;my-canvas&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">session</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">cameraKit</span><span class="hl-1">.</span><span class="hl-5">createSession</span><span class="hl-1">({ </span><span class="hl-0">liveRenderTarget:</span><span class="hl-1"> </span><span class="hl-0">canvas</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-0">events</span><span class="hl-1">.</span><span class="hl-5">addEventListener</span><span class="hl-1">(</span><span class="hl-3">&#39;error&#39;</span><span class="hl-1">, (</span><span class="hl-0">event</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">detail</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1"> === </span><span class="hl-3">&#39;LensExecutionError&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;The current Lens encountered an error and was removed.&#39;</span><span class="hl-1">, </span><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">detail</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">stream</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">navigator</span><span class="hl-1">.</span><span class="hl-0">mediaDevices</span><span class="hl-1">.</span><span class="hl-5">getUserMedia</span><span class="hl-1">({ </span><span class="hl-0">video:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">source</span><span class="hl-1"> = </span><span class="hl-5">createMediaStreamSource</span><span class="hl-1">(</span><span class="hl-0">stream</span><span class="hl-1">, { </span><span class="hl-0">transform:</span><span class="hl-1"> </span><span class="hl-0">Transform2D</span><span class="hl-1">.</span><span class="hl-0">MirrorX</span><span class="hl-1">, </span><span class="hl-0">cameraType:</span><span class="hl-1"> </span><span class="hl-3">&#39;user&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">setSource</span><span class="hl-1">(</span><span class="hl-0">source</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">lens</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">cameraKit</span><span class="hl-1">.</span><span class="hl-0">lensRepository</span><span class="hl-1">.</span><span class="hl-5">loadLens</span><span class="hl-1">(</span><span class="hl-3">&quot;&lt;Lens ID&gt;&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;&lt;Lens Group ID&gt;&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">applyLens</span><span class="hl-1">(</span><span class="hl-0">lens</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">play</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&quot;Lens rendering has started!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">})();</span><br/><br/><span class="hl-5">main</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="advanced-use-cases" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Advanced use cases<a href="#advanced-use-cases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="logging" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Logging<a href="#logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default, Camera Kit Web SDK does very minimal logging. Specifying <code>'console'</code> as logger will cause more log statements to be printed to the browser's console, which may be useful during development.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">cameraKit</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-5">bootstrapCameraKit</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">apiToken:</span><span class="hl-1"> </span><span class="hl-3">&#39;&lt;apiToken&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">logger:</span><span class="hl-1"> </span><span class="hl-3">&#39;console&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="keyboard-support-for-lenses" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Keyboard support for Lenses<a href="#keyboard-support-for-lenses" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Some Lenses allow for keyboard input. The SDK provides a <code>&lt;textarea&gt;</code> (<code>HTMLTextAreaElement</code>) element that can be added to your page, and will send its text to the active Lens whenever the user presses the <code>Enter</code> key.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">textAreaContainer</span><span class="hl-1"> = </span><span class="hl-0">document</span><span class="hl-1">.</span><span class="hl-5">getElementById</span><span class="hl-1">(</span><span class="hl-3">&#39;text-area-container&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">textArea</span><span class="hl-1"> = </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-0">keyboard</span><span class="hl-1">.</span><span class="hl-5">getElement</span><span class="hl-1">();</span><br/><span class="hl-0">textAreaContainer</span><span class="hl-1">.</span><span class="hl-5">appendChild</span><span class="hl-1">(</span><span class="hl-0">textArea</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Alternatively, an event is emitted when a Lens is expecting text input. You can then implement your own UI and logic for obtaining text input from your users, and then send it back to the Lens. For example, something like:</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">input</span><span class="hl-1"> = </span><span class="hl-0">document</span><span class="hl-1">.</span><span class="hl-5">getElementById</span><span class="hl-1">(</span><span class="hl-3">&#39;my-text-area&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-0">keyboard</span><span class="hl-1">.</span><span class="hl-5">addEventListener</span><span class="hl-1">(</span><span class="hl-3">&#39;active&#39;</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">input</span><span class="hl-1">.</span><span class="hl-0">classList</span><span class="hl-1">.</span><span class="hl-5">remove</span><span class="hl-1">(</span><span class="hl-3">&#39;hidden&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">input</span><span class="hl-1">.</span><span class="hl-5">addEventListener</span><span class="hl-1">(</span><span class="hl-3">&#39;keyup&#39;</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-0">keyboard</span><span class="hl-1">.</span><span class="hl-5">sendInputToLens</span><span class="hl-1">(</span><span class="hl-0">input</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">);</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>See an example of this <a href="https://camera-kit.snapchat.com/websdk/sample/keyboard" target="_blank" class="external">here</a>.</p>
<a id="customizing-camerakitsource" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Customizing <code>CameraKitSource</code><a href="#customizing-camerakitsource" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="setting-the-render-size" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Setting the render size<a href="#setting-the-render-size" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>By default, Camera Kit will render its output at the same resolution as the video input you provided. But you can also tell Camera Kit to render at a different resolution.</p>
<p>Keep in mind that this controls Camera Kit's render resolution, and not (necessarily) the size at which the output canvas is displayed to the user. The output canvas may be sized using HTML and CSS, and may apply its own scaling to the rendered output.</p>
<p>Most of the time you'll not need to set the render size â€“ but it could be useful if your video source is, say, very high resolution. In that case, you may observe better performance by telling Camera Kit to render at a lower resolution.</p>
<pre><code class="ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">setSource</span><span class="hl-1">(</span><span class="hl-0">source</span><span class="hl-1">)</span><br/><span class="hl-7">// This must be done *after* calling `setSource()`</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">source</span><span class="hl-1">.</span><span class="hl-5">setRenderSize</span><span class="hl-1">(</span><span class="hl-0">width</span><span class="hl-1">, </span><span class="hl-0">height</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>When calling <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia" target="_blank" class="external"><code>getUserMedia</code></a>, best performance can be achieved by requesting the resolution at which you want to render. This can be done using <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#parameters" target="_blank" class="external">constraints</a>. Then you won't have to use <code>setRenderSize</code> at all.</p>
</blockquote>
<a id="camera-type" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Camera type<a href="#camera-type" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When setting up a <code>CameraKitSource</code>, you can specify whether or not it is a front facing camera or a back facing camera. By default, the media source will be treated as a front facing camera. If it is a back facing camera be sure to specify it as such when you create your source; this ensures that Lenses created for back facing camera's (e.g. World AR) render properly.</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">stream</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">navigator</span><span class="hl-1">.</span><span class="hl-0">mediaDevices</span><span class="hl-1">.</span><span class="hl-5">getUserMedia</span><span class="hl-1">(</span><span class="hl-0">constraints</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">source</span><span class="hl-1"> = </span><span class="hl-5">createMediaStreamSource</span><span class="hl-1">(</span><span class="hl-0">stream</span><span class="hl-1">, { </span><span class="hl-0">cameraType:</span><span class="hl-1"> </span><span class="hl-3">&#39;environment&#39;</span><span class="hl-1"> });</span><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">setSource</span><span class="hl-1">(</span><span class="hl-0">source</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="fps-limit" class="tsd-anchor"></a><h4 class="tsd-anchor-link">FPS limit<a href="#fps-limit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>In some cases, it may be desirable to set a limit on the FPS at which Camera Kit renders. By default, Camera Kit will attempt to render frames at the same rate as the source media. But, for example, if your input media source has a very high framerate you may want to limit Camera Kit's rendering framerate to achieve better performance.</p>
<p>This can be done at the <code>CameraKitSession</code> level:</p>
<pre><code class="ts"><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">setFPSLimit</span><span class="hl-1">(</span><span class="hl-8">60</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Or at the <code>CameraKitSource</code> level:</p>
<pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">stream</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">navigator</span><span class="hl-1">.</span><span class="hl-0">mediaDevices</span><span class="hl-1">.</span><span class="hl-5">getUserMedia</span><span class="hl-1">(</span><span class="hl-0">constraints</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-6">source</span><span class="hl-1"> = </span><span class="hl-5">createMediaStreamSource</span><span class="hl-1">(</span><span class="hl-0">stream</span><span class="hl-1">, { </span><span class="hl-0">fpsLimit:</span><span class="hl-1"> </span><span class="hl-8">60</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>These options can also be used with any of the <a href="#creating-a-camerakitsource">create source helpers</a>.</p>
<a id="2d-transforms" class="tsd-anchor"></a><h4 class="tsd-anchor-link">2D transforms<a href="#2d-transforms" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Any <code>CameraKitSource</code> can be transformed using a matrix, to rotate, scale, or mirror the source media. This is most often used to mirror a front-facing camera stream so that it appears more natural to the user.</p>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Transform2D</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@snap/camera-kit&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1">.</span><span class="hl-5">setSource</span><span class="hl-1">(</span><span class="hl-0">source</span><span class="hl-1">)</span><br/><span class="hl-7">// This must be done *after* calling `setSource()`</span><br/><span class="hl-0">source</span><span class="hl-1">.</span><span class="hl-5">setTransform</span><span class="hl-1">(</span><span class="hl-0">Transform2D</span><span class="hl-1">.</span><span class="hl-0">MirrorX</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="metrics-reporting" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Metrics reporting<a href="#metrics-reporting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Camera Kit Web SDK reports certain important events which may be of interest to the application.</p>
<blockquote>
<p>This is an unstable portion of the Camera Kit Web SDK's public API -- the specific events and their properties may change between versions of the SDK, without warning. We currently offer these events as a convenient way to gather more information from the SDK, but if you need to report accurate metrics (e.g. number of lens views), that is currently something you will have to implement in your application.</p>
</blockquote>
<p>Currently, the only event that may be of interest is the <code>lensView</code> event. It is emitted whenever a lens is <em>removed</em> from the <code>CameraKitSession</code>, indicating a complete lens view. It contains information about the lens' performance (e.g. fps, frame processing times, etc.) and how long the lens was applied.</p>
<p>You may listen to these events like so:</p>
<pre><code class="ts"><span class="hl-0">cameraKit</span><span class="hl-1">.</span><span class="hl-0">metrics</span><span class="hl-1">.</span><span class="hl-5">addEventListener</span><span class="hl-1">(</span><span class="hl-3">&#39;lensView&#39;</span><span class="hl-1">, (</span><span class="hl-0">event</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-5">debug</span><span class="hl-1">(</span><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">detail</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#snap-camera-kit-web-sdk"><span>Snap <wbr/>Camera <wbr/>Kit <wbr/>Web SDK</span></a><ul><li><a href="#minimum-browser-requirements"><span>Minimum browser requirements</span></a></li><li><a href="#prerequisites"><span>Prerequisites</span></a></li><li><ul><li><a href="#snap-developer-set-up"><span>Snap <wbr/>Developer set up</span></a></li><li><a href="#development-environment"><span>Development environment</span></a></li><li><ul><li><a href="#using-the-sdk-in-a-javascript-project"><span>Using the SDK in a <wbr/>Java<wbr/>Script project</span></a></li></ul></li><li><a href="#content-security-policy"><span>Content <wbr/>Security <wbr/>Policy</span></a></li></ul></li><li><a href="#installing-the-sdk"><span>Installing the SDK</span></a></li><li><ul><li><a href="#importing-camera-kit"><span>Importing <wbr/>Camera <wbr/>Kit</span></a></li></ul></li><li><a href="#bootstrapping-the-sdk"><span>Bootstrapping the SDK</span></a></li><li><a href="#creating-a-camerakitsession"><span>Creating a <wbr/>Camera<wbr/>Kit<wbr/>Session</span></a></li><li><a href="#creating-a-camerakitsource"><span>Creating a <wbr/>Camera<wbr/>Kit<wbr/>Source</span></a></li><li><a href="#loading-applying-and-removing-lenses"><span>Loading, applying, and removing <wbr/>Lenses</span></a></li><li><ul><li><a href="#removing-the-lens"><span>Removing the <wbr/>Lens</span></a></li></ul></li><li><a href="#playback"><span>Playback</span></a></li><li><ul><li><a href="#playing-and-pausing-the-different-rendertargets"><span>Playing and pausing the different <wbr/>Render<wbr/>Targets</span></a></li></ul></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#putting-it-all-together"><span>Putting it all together</span></a></li><li><a href="#advanced-use-cases"><span>Advanced use cases</span></a></li><li><ul><li><a href="#logging"><span>Logging</span></a></li><li><a href="#keyboard-support-for-lenses"><span>Keyboard support for <wbr/>Lenses</span></a></li><li><a href="#customizing-camerakitsource"><span>Customizing <wbr/>Camera<wbr/>Kit<wbr/>Source</span></a></li><li><ul><li><a href="#setting-the-render-size"><span>Setting the render size</span></a></li><li><a href="#camera-type"><span>Camera type</span></a></li><li><a href="#fps-limit"><span>FPS limit</span></a></li><li><a href="#2d-transforms"><span>2<wbr/>D transforms</span></a></li></ul></li><li><a href="#metrics-reporting"><span>Metrics reporting</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current">CameraKit Web SDK - v1.4.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
